"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[4672],{4701:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"understanding/how-it-works/index","title":"How It Works","description":"Two Ways to Store Data","source":"@site/versioned_docs/version-3.1.0/understanding/how-it-works/index.md","sourceDirName":"understanding/how-it-works","slug":"/understanding/how-it-works/","permalink":"/project-storage-service/docs/understanding/how-it-works/","draft":false,"unlisted":false,"editUrl":"https://github.com/uncefact/project-storage-service/tree/next/versioned_docs/version-3.1.0/understanding/how-it-works/index.md","tags":[],"version":"3.1.0","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"How It Works"},"sidebar":"tutorialSidebar","previous":{"title":"Introduction","permalink":"/project-storage-service/docs/understanding/introduction/"},"next":{"title":"FAQ","permalink":"/project-storage-service/docs/understanding/faq/"}}');var r=t(4848),o=t(8453);const s={sidebar_position:2,title:"How It Works"},a=void 0,d={},c=[{value:"Two Ways to Store Data",id:"two-ways-to-store-data",level:2},{value:"The Lockbox Analogy",id:"the-lockbox-analogy",level:2},{value:"How Public Storage Works",id:"how-public-storage-works",level:2},{value:"How Private Storage Works",id:"how-private-storage-works",level:2},{value:"When to Use Which Endpoint",id:"when-to-use-which-endpoint",level:2},{value:"Scaling",id:"scaling",level:2}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",mermaid:"mermaid",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"two-ways-to-store-data",children:"Two Ways to Store Data"}),"\n",(0,r.jsx)(n.p,{children:"The service offers two ways to store data, depending on whether your content is public or private. Both options accept structured data (JSON) and binary files such as images or PDFs."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Use Case"}),(0,r.jsx)(n.th,{children:"Endpoint"}),(0,r.jsx)(n.th,{children:"What Happens"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Public data (JSON or binary)"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/public"})}),(0,r.jsx)(n.td,{children:"Stored as-is, without encryption"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Private data (JSON or binary)"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/private"})}),(0,r.jsx)(n.td,{children:"Automatically encrypted"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"the-lockbox-analogy",children:"The Lockbox Analogy"}),"\n",(0,r.jsxs)(n.p,{children:["Think of the ",(0,r.jsx)(n.code,{children:"/private"})," endpoint like a secure lockbox service."]}),"\n",(0,r.jsx)(n.p,{children:"When you store private data:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"You hand over your data"}),"\n",(0,r.jsx)(n.li,{children:"The service locks it in a secure box"}),"\n",(0,r.jsx)(n.li,{children:"You receive the only key"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Without that key, no one -- including the service operators -- can open the box. This is why it is critical to save your key immediately when you receive it."}),"\n",(0,r.jsx)(n.h2,{id:"how-public-storage-works",children:"How Public Storage Works"}),"\n",(0,r.jsx)(n.p,{children:"Use public storage for data or files you are happy to share openly. Content is stored exactly as you send it at a public link, so anyone who obtains the link can read it."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"What happens:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"You send your data or file to the service"}),"\n",(0,r.jsx)(n.li,{children:"The service stores it exactly as you sent it"}),"\n",(0,r.jsxs)(n.li,{children:["You receive back a ",(0,r.jsx)(n.strong,{children:"URI"})," (the location of your content) and a ",(0,r.jsx)(n.strong,{children:"hash"})," (a fingerprint to verify it has not changed)"]}),"\n"]}),"\n",(0,r.jsx)(n.mermaid,{value:"flowchart LR\n    A[Your Data / File] --\x3e B[Store]\n    B --\x3e C[URI + Hash]"}),"\n",(0,r.jsx)(n.h2,{id:"how-private-storage-works",children:"How Private Storage Works"}),"\n",(0,r.jsx)(n.p,{children:"Use private storage for any sensitive or confidential information that should be protected. The service encrypts your content automatically -- you do not need to encrypt it yourself."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"What happens:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"You send your data or file to the service"}),"\n",(0,r.jsx)(n.li,{children:"The service encrypts your content automatically"}),"\n",(0,r.jsx)(n.li,{children:"The encrypted content is stored"}),"\n",(0,r.jsxs)(n.li,{children:["You receive back a ",(0,r.jsx)(n.strong,{children:"URI"}),", a ",(0,r.jsx)(n.strong,{children:"hash"}),", and a ",(0,r.jsx)(n.strong,{children:"decryption key"})]}),"\n"]}),"\n",(0,r.jsx)(n.mermaid,{value:"flowchart LR\n    A[Your Data / File] --\x3e B[Encrypt]\n    B --\x3e C[Store]\n    C --\x3e D[URI + Hash + Decryption Key]"}),"\n",(0,r.jsxs)(n.admonition,{title:"Save Your Key",type:"warning",children:[(0,r.jsx)(n.p,{children:"The decryption key is returned only once when you store your data."}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"If you lose this key, your data cannot be recovered -- not even by the service operators."})}),(0,r.jsx)(n.p,{children:"Store it securely immediately after receiving it."})]}),"\n",(0,r.jsx)(n.h2,{id:"when-to-use-which-endpoint",children:"When to Use Which Endpoint"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Scenario"}),(0,r.jsx)(n.th,{children:"Recommended Endpoint"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Public data (JSON or binary)"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/public"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Private or sensitive data (JSON or binary)"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/private"})})]})]})]}),"\n",(0,r.jsxs)(n.admonition,{title:"Note on Data Discovery",type:"info",children:[(0,r.jsx)(n.p,{children:"All stored items use UUIDs as identifiers. UUIDs are designed to be practically impossible to guess or enumerate, so discovery of a document's address is extremely unlikely. However, if someone does obtain a URI:"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"/public"})}),": The data or file can be read directly"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"/private"})}),": The data is encrypted and unreadable without the corresponding decryption key"]}),"\n"]}),(0,r.jsx)(n.p,{children:"This is why encryption matters for sensitive data -- it provides protection even if the URI is somehow discovered."})]}),"\n",(0,r.jsx)(n.h2,{id:"scaling",children:"Scaling"}),"\n",(0,r.jsxs)(n.p,{children:["The service is stateless and scales horizontally. You can run as many instances as needed behind a load balancer with no shared state between them. For detailed deployment and scaling guidance, see the ",(0,r.jsx)(n.a,{href:"../../deployment-guide/scaling",children:"Scaling"})," page."]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>a});var i=t(6540);const r={},o=i.createContext(r);function s(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);