"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[3174],{6200:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"contributing/contribution-guidelines/index","title":"Contribution Guidelines","description":"This page outlines the code style, commit conventions, and pull request process for contributing to the Storage Service.","source":"@site/versioned_docs/version-3.0.0/contributing/contribution-guidelines/index.md","sourceDirName":"contributing/contribution-guidelines","slug":"/contributing/contribution-guidelines/","permalink":"/project-storage-service/docs/contributing/contribution-guidelines/","draft":false,"unlisted":false,"editUrl":"https://github.com/uncefact/project-storage-service/tree/next/versioned_docs/version-3.0.0/contributing/contribution-guidelines/index.md","tags":[],"version":"3.0.0","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Contribution Guidelines"},"sidebar":"tutorialSidebar","previous":{"title":"Release Process","permalink":"/project-storage-service/docs/contributing/release-process/"},"next":{"title":"Package Workflow","permalink":"/project-storage-service/docs/contributing/package-workflow/"}}');var i=t(4848),r=t(8453);const o={sidebar_position:3,title:"Contribution Guidelines"},c=void 0,l={},d=[{value:"Code Style",id:"code-style",level:2},{value:"Pre-commit Hooks",id:"pre-commit-hooks",level:2},{value:"Pull Request Process",id:"pull-request-process",level:2},{value:"Commit Conventions",id:"commit-conventions",level:2},{value:"Breaking Changes",id:"breaking-changes",level:3},{value:"Examples",id:"examples",level:3},{value:"Why This Matters",id:"why-this-matters",level:3},{value:"Testing Expectations",id:"testing-expectations",level:2}];function a(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"This page outlines the code style, commit conventions, and pull request process for contributing to the Storage Service."}),"\n",(0,i.jsx)(n.h2,{id:"code-style",children:"Code Style"}),"\n",(0,i.jsx)(n.p,{children:"The project uses:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"TypeScript"})," as the primary language."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"ESLint"})," for static analysis and enforcing code quality rules."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Prettier"})," for consistent code formatting."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["An ESLint configuration is included in the repository. Prettier is configured to work alongside ESLint without conflicting rules (via ",(0,i.jsx)(n.code,{children:"eslint-config-prettier"}),")."]}),"\n",(0,i.jsx)(n.h2,{id:"pre-commit-hooks",children:"Pre-commit Hooks"}),"\n",(0,i.jsxs)(n.p,{children:["The project uses ",(0,i.jsx)(n.strong,{children:"Husky"})," and ",(0,i.jsx)(n.strong,{children:"lint-staged"})," to enforce code quality before every commit. When you commit, the following checks run automatically on staged ",(0,i.jsx)(n.code,{children:".ts"})," files:"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Prettier"})," -- formats the code."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"ESLint"})," -- checks for linting errors."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"If either check fails, the commit is blocked until the issues are resolved. You can run these checks manually at any time:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Check formatting\nyarn format:check\n\n# Fix formatting\nyarn format:fix\n\n# Run linter\nyarn lint:check\n"})}),"\n",(0,i.jsx)(n.h2,{id:"pull-request-process",children:"Pull Request Process"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsxs)(n.strong,{children:["Branch from ",(0,i.jsx)(n.code,{children:"next"}),"."]})," All feature branches should be created from the ",(0,i.jsx)(n.code,{children:"next"})," branch."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsxs)(n.strong,{children:["Submit your PR to ",(0,i.jsx)(n.code,{children:"next"}),"."]})," Pull requests should target the ",(0,i.jsx)(n.code,{children:"next"})," branch, not ",(0,i.jsx)(n.code,{children:"main"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Ensure tests pass."})," All existing and new tests must pass before a PR will be reviewed."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Keep PRs focused."})," Each pull request should address a single concern -- one feature, one bug fix, or one refactoring effort."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"commit-conventions",children:"Commit Conventions"}),"\n",(0,i.jsxs)(n.p,{children:["The project follows the ",(0,i.jsx)(n.a,{href:"https://www.conventionalcommits.org/",children:"Conventional Commits"})," format. This is not just a style preference; the release tooling reads commit messages to automatically determine version bumps and generate changelogs. A ",(0,i.jsx)(n.code,{children:"feat"})," commit triggers a minor version bump, a ",(0,i.jsx)(n.code,{children:"fix"})," triggers a patch bump, and a breaking change triggers a major bump."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"type(scope): description\n"})}),"\n",(0,i.jsx)(n.p,{children:"Common types:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Version Bump"}),(0,i.jsx)(n.th,{children:"Changelog Section"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"feat"})}),(0,i.jsx)(n.td,{children:"Minor (1.x.0)"}),(0,i.jsx)(n.td,{children:"Features"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"fix"})}),(0,i.jsx)(n.td,{children:"Patch (1.0.x)"}),(0,i.jsx)(n.td,{children:"Bug Fixes"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"docs"})}),(0,i.jsx)(n.td,{children:"Patch"}),(0,i.jsx)(n.td,{children:"Documentation"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"chore"})}),(0,i.jsx)(n.td,{children:"None"}),(0,i.jsx)(n.td,{children:"Hidden"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"refactor"})}),(0,i.jsx)(n.td,{children:"None"}),(0,i.jsx)(n.td,{children:"Hidden"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"test"})}),(0,i.jsx)(n.td,{children:"None"}),(0,i.jsx)(n.td,{children:"Hidden"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"style"})}),(0,i.jsx)(n.td,{children:"None"}),(0,i.jsx)(n.td,{children:"Hidden"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"breaking-changes",children:"Breaking Changes"}),"\n",(0,i.jsxs)(n.p,{children:["Add ",(0,i.jsx)(n.code,{children:"!"})," after the type or scope to signal a breaking change. This triggers a major version bump (x.0.0) and appears prominently in the changelog."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"feat(api)!: rename storage endpoints\n\nBREAKING CHANGE: /store is now /public and /encrypt is now /private.\n"})}),"\n",(0,i.jsxs)(n.p,{children:["You can also include a ",(0,i.jsx)(n.code,{children:"BREAKING CHANGE:"})," footer in the commit body to describe what changed and how consumers should migrate."]}),"\n",(0,i.jsx)(n.h3,{id:"examples",children:"Examples"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"feat(routes): add file upload support to public endpoint\nfix(storage): handle missing bucket gracefully\ndocs(readme): update installation instructions\ntest(e2e): add S3-compatible storage tests\nfeat(config)!: rename REGION to S3_REGION\n"})}),"\n",(0,i.jsx)(n.h3,{id:"why-this-matters",children:"Why This Matters"}),"\n",(0,i.jsxs)(n.p,{children:["When a PR is squash-merged, GitHub uses the PR title as the merge commit message. If a feature PR title is missing the ",(0,i.jsx)(n.code,{children:"feat:"})," prefix, the release tooling will not detect it as a feature. This results in an incorrect patch bump instead of a minor bump. Always ensure PR titles follow the conventional commit format."]}),"\n",(0,i.jsx)(n.h2,{id:"testing-expectations",children:"Testing Expectations"}),"\n",(0,i.jsx)(n.p,{children:"All modified and added functionality must have tests:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"New features"})," must include unit tests covering the expected behaviour and edge cases."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Bug fixes"})," must include a regression test that would have caught the bug."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Refactoring"})," must ensure existing tests continue to pass. Add tests if coverage gaps are identified."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Run the test suite locally before submitting a pull request:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Unit tests\nyarn test\n\n# E2E tests (requires Docker)\nyarn test:e2e\n"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>c});var s=t(6540);const i={},r=s.createContext(i);function o(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);