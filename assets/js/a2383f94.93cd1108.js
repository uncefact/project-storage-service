"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[4831],{2452:(e,n,t)=>{t.d(n,{Ay:()=>o,RM:()=>r});var i=t(4848),s=t(8453);const r=[];function d(e){const n={admonition:"admonition",p:"p",...(0,s.R)(),...e.components};return(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"Please note that this content is under development and is not ready for implementation. This status message will be updated as content development progresses."})})}function o(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},903:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"storage-options/index","title":"Storage Options","description":"Understanding Your Storage Options","source":"@site/versioned_docs/version-1.1.1/storage-options/index.md","sourceDirName":"storage-options","slug":"/storage-options/","permalink":"/project-identity-resolver/docs/1.1.1/storage-options/","draft":false,"unlisted":false,"editUrl":"https://github.com/uncefact/project-identity-resolver/tree/next/versioned_docs/version-1.1.1/storage-options/index.md","tags":[],"version":"1.1.1","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Storage Options"},"sidebar":"tutorialSidebar","previous":{"title":"Installation","permalink":"/project-identity-resolver/docs/1.1.1/installation/"},"next":{"title":"Features","permalink":"/project-identity-resolver/docs/1.1.1/features/"}}');var s=t(4848),r=t(8453),d=t(2452);const o={sidebar_position:3,title:"Storage Options"},c=void 0,a={},l=[...d.RM,{value:"Understanding Your Storage Options",id:"understanding-your-storage-options",level:2},{value:"The Lockbox Analogy",id:"the-lockbox-analogy",level:2},{value:"How Each Endpoint Works",id:"how-each-endpoint-works",level:2},{value:"Public Data: <code>/documents</code>",id:"public-data-documents",level:3},{value:"Private Data: <code>/credentials</code>",id:"private-data-credentials",level:3},{value:"When to Use Which Endpoint",id:"when-to-use-which-endpoint",level:2},{value:"Technical Details",id:"technical-details",level:2},{value:"Unencrypted Data Structure",id:"unencrypted-data-structure",level:3},{value:"Encrypted Data Structure",id:"encrypted-data-structure",level:3},{value:"API Reference",id:"api-reference",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Ay,{}),"\n",(0,s.jsx)(n.h2,{id:"understanding-your-storage-options",children:"Understanding Your Storage Options"}),"\n",(0,s.jsx)(n.p,{children:"This service offers two ways to store data, depending on whether your data is public or private."}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Use Case"}),(0,s.jsx)(n.th,{children:"Endpoint"}),(0,s.jsx)(n.th,{children:"What Happens"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Public data"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"/documents"})}),(0,s.jsx)(n.td,{children:"Stored as-is"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Private data"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"/credentials"})}),(0,s.jsx)(n.td,{children:"Automatically encrypted"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"the-lockbox-analogy",children:"The Lockbox Analogy"}),"\n",(0,s.jsxs)(n.p,{children:["Think of the ",(0,s.jsx)(n.code,{children:"/credentials"})," endpoint like a secure lockbox service."]}),"\n",(0,s.jsx)(n.p,{children:"When you store private data:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"You hand over your data"}),"\n",(0,s.jsx)(n.li,{children:"The service locks it in a secure box"}),"\n",(0,s.jsx)(n.li,{children:"You receive the only key"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Without that key, no one \u2014 including us \u2014 can open the box. This is why it's critical to save your key immediately when you receive it."}),"\n",(0,s.jsx)(n.h2,{id:"how-each-endpoint-works",children:"How Each Endpoint Works"}),"\n",(0,s.jsxs)(n.h3,{id:"public-data-documents",children:["Public Data: ",(0,s.jsx)(n.code,{children:"/documents"})]}),"\n",(0,s.jsx)(n.p,{children:"Use this endpoint for data you're happy to share publicly. Since documents are stored unencrypted at a public URI, they can be read by anyone who obtains the link."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"What happens:"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"You send your data to the service"}),"\n",(0,s.jsx)(n.li,{children:"The service stores it exactly as you sent it"}),"\n",(0,s.jsxs)(n.li,{children:["You receive back:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["A ",(0,s.jsx)(n.strong,{children:"URI"})," \u2014 the location where your data is stored"]}),"\n",(0,s.jsxs)(n.li,{children:["A ",(0,s.jsx)(n.strong,{children:"hash"})," \u2014 a fingerprint to verify your data hasn't changed"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Your Data \u2192 Store \u2192 URI + Hash\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"private-data-credentials",children:["Private Data: ",(0,s.jsx)(n.code,{children:"/credentials"})]}),"\n",(0,s.jsx)(n.p,{children:"Use this endpoint for any sensitive or private information that should be protected."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"What happens:"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"You send your data to the service"}),"\n",(0,s.jsx)(n.li,{children:"The service encrypts your data automatically (you don't need to encrypt it yourself)"}),"\n",(0,s.jsx)(n.li,{children:"The encrypted data is stored"}),"\n",(0,s.jsxs)(n.li,{children:["You receive back:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["A ",(0,s.jsx)(n.strong,{children:"URI"})," \u2014 the location where your encrypted data is stored"]}),"\n",(0,s.jsxs)(n.li,{children:["A ",(0,s.jsx)(n.strong,{children:"hash"})," \u2014 a fingerprint to verify your data hasn't changed"]}),"\n",(0,s.jsxs)(n.li,{children:["A ",(0,s.jsx)(n.strong,{children:"key"})," \u2014 your unique decryption key"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Your Data \u2192 Encrypt \u2192 Store \u2192 URI + Hash + Key\n"})}),"\n",(0,s.jsxs)(n.admonition,{title:"Save Your Key",type:"warning",children:[(0,s.jsx)(n.p,{children:"The decryption key is returned only once when you store your data."}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"If you lose this key, your data cannot be recovered \u2014 not even by us."})}),(0,s.jsx)(n.p,{children:"Store it securely immediately after receiving it."})]}),"\n",(0,s.jsx)(n.h2,{id:"when-to-use-which-endpoint",children:"When to Use Which Endpoint"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Scenario"}),(0,s.jsx)(n.th,{children:"Recommended Endpoint"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Public data"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"/documents"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Private data"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"/credentials"})})]})]})]}),"\n",(0,s.jsxs)(n.admonition,{title:"Note on Data Discovery",type:"info",children:[(0,s.jsx)(n.p,{children:"Both endpoints use UUIDs as identifiers. UUIDs are designed to be practically impossible to guess or enumerate, so discovery is unlikely. However, if someone does obtain a URI:"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"/documents"})}),": The data can be read directly"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"/credentials"})}),": The data is encrypted and unreadable without the corresponding decryption key"]}),"\n"]}),(0,s.jsx)(n.p,{children:"This is why encryption matters for sensitive data \u2014 it provides protection even if the URI is somehow discovered."})]}),"\n",(0,s.jsx)(n.h2,{id:"technical-details",children:"Technical Details"}),"\n",(0,s.jsx)(n.p,{children:"For developers who want to understand the encryption:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Algorithm"}),": AES-256-GCM"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Key generation"}),": Unique 256-bit key generated per request"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Hash computation"}),": SHA-256"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"unencrypted-data-structure",children:"Unencrypted Data Structure"}),"\n",(0,s.jsxs)(n.p,{children:["When you store data via ",(0,s.jsx)(n.code,{children:"/documents"}),", the service stores your data exactly as you sent it:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n    "field1": "value1",\n    "field2": "value2"\n}\n'})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Field"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Your data"}),(0,s.jsx)(n.td,{children:"Stored exactly as provided, with no transformation"})]})})]}),"\n",(0,s.jsx)(n.p,{children:"This means your data is directly readable by anyone who obtains the URI."}),"\n",(0,s.jsx)(n.h3,{id:"encrypted-data-structure",children:"Encrypted Data Structure"}),"\n",(0,s.jsxs)(n.p,{children:["When you store data via ",(0,s.jsx)(n.code,{children:"/credentials"}),", the service encrypts your data and stores it in the following structure:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n    "cipherText": "base64-encoded-encrypted-data",\n    "iv": "base64-encoded-initialization-vector",\n    "tag": "base64-encoded-authentication-tag",\n    "type": "aes-256-gcm"\n}\n'})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Field"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"cipherText"})}),(0,s.jsx)(n.td,{children:"Your encrypted data (Base64 encoded)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"iv"})}),(0,s.jsx)(n.td,{children:"Initialization vector used for encryption (Base64 encoded)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"tag"})}),(0,s.jsx)(n.td,{children:"Authentication tag that verifies data integrity (Base64 encoded)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"type"})}),(0,s.jsx)(n.td,{children:"The encryption algorithm used"})]})]})]}),"\n",(0,s.jsxs)(n.p,{children:["This structure ensures both ",(0,s.jsx)(n.strong,{children:"confidentiality"})," (data is unreadable without the key) and ",(0,s.jsx)(n.strong,{children:"integrity"})," (any tampering can be detected via the authentication tag)."]}),"\n",(0,s.jsx)(n.h2,{id:"api-reference",children:"API Reference"}),"\n",(0,s.jsxs)(n.p,{children:["For complete API documentation including request/response schemas, see the ",(0,s.jsx)(n.a,{href:"http://localhost:3333/api-docs",children:"Swagger documentation"}),"."]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>d,x:()=>o});var i=t(6540);const s={},r=i.createContext(s);function d(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);