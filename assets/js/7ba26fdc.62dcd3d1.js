"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[5658],{484:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>l,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"installation/index","title":"Installation","description":"Local Installation","source":"@site/versioned_docs/version-2.1.0/installation/index.md","sourceDirName":"installation","slug":"/installation/","permalink":"/project-storage-service/docs/2.1.0/installation/","draft":false,"unlisted":false,"editUrl":"https://github.com/uncefact/project-storage-service/tree/next/versioned_docs/version-2.1.0/installation/index.md","tags":[],"version":"2.1.0","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Installation"},"sidebar":"tutorialSidebar","previous":{"title":"Getting Started","permalink":"/project-storage-service/docs/2.1.0/getting-started/"},"next":{"title":"Storage Options","permalink":"/project-storage-service/docs/2.1.0/storage-options/"}}');var t=i(4848),s=i(8453);const l={sidebar_position:3,title:"Installation"},o=void 0,c={},a=[{value:"Local Installation",id:"local-installation",level:2},{value:"Using Pre-built Docker Images",id:"using-pre-built-docker-images",level:2},{value:"Building Docker Locally",id:"building-docker-locally",level:2},{value:"Cloud Provider Setup",id:"cloud-provider-setup",level:2},{value:"Google Cloud Storage",id:"google-cloud-storage",level:3},{value:"Amazon Web Services (AWS S3)",id:"amazon-web-services-aws-s3",level:3},{value:"S3-Compatible Storage Providers",id:"s3-compatible-storage-providers",level:3},{value:"MinIO",id:"minio",level:4},{value:"DigitalOcean Spaces",id:"digitalocean-spaces",level:4},{value:"Cloudflare R2",id:"cloudflare-r2",level:4},{value:"S3 Configuration Reference",id:"s3-configuration-reference",level:3}];function d(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"local-installation",children:"Local Installation"}),"\n",(0,t.jsxs)(n.p,{children:["Clone the ",(0,t.jsx)(n.a,{href:"https://github.com/uncefact/project-identity-resolver",children:"repository"}),", install dependencies and run:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"yarn install\nyarn dev\n"})}),"\n",(0,t.jsx)(n.h2,{id:"using-pre-built-docker-images",children:"Using Pre-built Docker Images"}),"\n",(0,t.jsxs)(n.p,{children:["Pre-built Docker images are available on ",(0,t.jsx)(n.a,{href:"https://github.com/uncefact/project-identity-resolver/pkgs/container/project-identity-resolver",children:"GitHub Container Registry"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["Images support ",(0,t.jsx)(n.code,{children:"linux/amd64"})," and ",(0,t.jsx)(n.code,{children:"linux/arm64"})," architectures (Intel/AMD and Apple Silicon/ARM)."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Pull the latest image\ndocker pull ghcr.io/uncefact/project-identity-resolver:latest\n\n# Alternatively, pull a specific version (e.g., 2.0.1)\n# docker pull ghcr.io/uncefact/project-identity-resolver:2.0.1\n\n# Or pull the latest development image from the next branch\n# docker pull ghcr.io/uncefact/project-identity-resolver:next\n\n# Copy and configure your environment file\ncp .env.example .env\n# Edit .env and set your API_KEY and other configuration\n\n# Run the container (replace the tag if you pulled a different image above)\ndocker run -d --env-file .env -p 3333:3333 \\\n  -v $(pwd)/uploads:/app/src/uploads:rw \\\n  ghcr.io/uncefact/project-identity-resolver:latest\n"})}),"\n",(0,t.jsx)(n.h2,{id:"building-docker-locally",children:"Building Docker Locally"}),"\n",(0,t.jsx)(n.p,{children:"Build and run with Docker:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Build Docker image\ndocker build -t storage-service:latest .\n\n# Copy and configure your environment file\ncp .env.example .env\n# Edit .env and set your API_KEY and other configuration\n\n# Run a container based on the storage-service image built in the previous step\ndocker run -d --env-file .env -p 3333:3333 \\\n  -v $(pwd)/uploads:/app/src/uploads:rw \\\n  storage-service:latest\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Note"}),": Ensure your ",(0,t.jsx)(n.code,{children:".env"})," file contains the required ",(0,t.jsx)(n.code,{children:"API_KEY"})," variable. The service will not start without it."]}),"\n",(0,t.jsx)(n.h2,{id:"cloud-provider-setup",children:"Cloud Provider Setup"}),"\n",(0,t.jsx)(n.h3,{id:"google-cloud-storage",children:"Google Cloud Storage"}),"\n",(0,t.jsxs)(n.p,{children:["Update your ",(0,t.jsx)(n.code,{children:".env"})," file:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-env",children:"STORAGE_TYPE=gcp\nGOOGLE_APPLICATION_CREDENTIALS=/tmp/service-account-file.json\n"})}),"\n",(0,t.jsx)(n.p,{children:"Then run the container, mounting your service account file:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"docker run -d --env-file .env -p 3333:3333 \\\n-v /path/to/local/gcp/service-account-file.json:/tmp/service-account-file.json \\\nstorage-service:latest\n"})}),"\n",(0,t.jsx)(n.h3,{id:"amazon-web-services-aws-s3",children:"Amazon Web Services (AWS S3)"}),"\n",(0,t.jsxs)(n.p,{children:["Update your ",(0,t.jsx)(n.code,{children:".env"})," file with AWS credentials:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-env",children:"STORAGE_TYPE=aws\nS3_REGION=ap-southeast-2\nAWS_ACCESS_KEY_ID=your-aws-access-key-id\nAWS_SECRET_ACCESS_KEY=your-aws-secret-access-key\nAVAILABLE_BUCKETS=verifiable-credentials,private-verifiable-credentials,epcis-events\n"})}),"\n",(0,t.jsx)(n.p,{children:"Then run the container:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"docker run -d --env-file .env -p 3333:3333 storage-service:latest\n"})}),"\n",(0,t.jsx)(n.h3,{id:"s3-compatible-storage-providers",children:"S3-Compatible Storage Providers"}),"\n",(0,t.jsx)(n.p,{children:"The service supports any S3-compatible storage provider (MinIO, DigitalOcean Spaces, Cloudflare R2, Backblaze B2, Wasabi, etc.) by configuring a custom endpoint."}),"\n",(0,t.jsx)(n.h4,{id:"minio",children:"MinIO"}),"\n",(0,t.jsx)(n.p,{children:"Ideal for local development and self-hosted deployments:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-env",children:"STORAGE_TYPE=aws\nS3_ENDPOINT=http://minio:9000\nS3_FORCE_PATH_STYLE=true\nAWS_ACCESS_KEY_ID=minioadmin\nAWS_SECRET_ACCESS_KEY=minioadmin\nAVAILABLE_BUCKETS=verifiable-credentials\n"})}),"\n",(0,t.jsx)(n.h4,{id:"digitalocean-spaces",children:"DigitalOcean Spaces"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-env",children:"STORAGE_TYPE=aws\nS3_ENDPOINT=https://syd1.digitaloceanspaces.com\nAWS_ACCESS_KEY_ID=your-do-access-key-id\nAWS_SECRET_ACCESS_KEY=your-do-secret-access-key\nAVAILABLE_BUCKETS=verifiable-credentials\n"})}),"\n",(0,t.jsx)(n.h4,{id:"cloudflare-r2",children:"Cloudflare R2"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-env",children:"STORAGE_TYPE=aws\nS3_ENDPOINT=https://<account-id>.r2.cloudflarestorage.com\nS3_FORCE_PATH_STYLE=true\nAWS_ACCESS_KEY_ID=your-r2-access-key-id\nAWS_SECRET_ACCESS_KEY=your-r2-secret-access-key\nAVAILABLE_BUCKETS=verifiable-credentials\n"})}),"\n",(0,t.jsx)(n.h3,{id:"s3-configuration-reference",children:"S3 Configuration Reference"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Variable"}),(0,t.jsx)(n.th,{children:"Required"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"S3_REGION"})}),(0,t.jsx)(n.td,{children:"Yes (for AWS S3)"}),(0,t.jsx)(n.td,{children:"AWS region. Not required when using custom endpoint."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"S3_ENDPOINT"})}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"Custom endpoint URL for S3-compatible providers."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"S3_FORCE_PATH_STYLE"})}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsxs)(n.td,{children:["Set to ",(0,t.jsx)(n.code,{children:"true"})," for path-style URLs (required for MinIO, R2)."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"AWS_ACCESS_KEY_ID"})}),(0,t.jsx)(n.td,{children:"Yes"}),(0,t.jsx)(n.td,{children:"Access key for authentication."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"AWS_SECRET_ACCESS_KEY"})}),(0,t.jsx)(n.td,{children:"Yes"}),(0,t.jsx)(n.td,{children:"Secret key for authentication."})]})]})]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>o});var r=i(6540);const t={},s=r.createContext(t);function l(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);