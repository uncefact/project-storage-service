<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-3.0.0 docs-doc-page docs-doc-id-deployment-guide/scaling/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.3">
<title data-rh="true">Scaling | Storage Service</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://uncefact.github.io/project-storage-service/img/unece-social-card.png"><meta data-rh="true" name="twitter:image" content="https://uncefact.github.io/project-storage-service/img/unece-social-card.png"><meta data-rh="true" property="og:url" content="https://uncefact.github.io/project-storage-service/docs/3.0.0/deployment-guide/scaling/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="3.0.0"><meta data-rh="true" name="docusaurus_tag" content="docs-default-3.0.0"><meta data-rh="true" name="docsearch:version" content="3.0.0"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-3.0.0"><meta data-rh="true" property="og:title" content="Scaling | Storage Service"><meta data-rh="true" name="description" content="This page covers operational guidance for running the Storage Service at scale."><meta data-rh="true" property="og:description" content="This page covers operational guidance for running the Storage Service at scale."><link data-rh="true" rel="icon" href="/project-storage-service/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://uncefact.github.io/project-storage-service/docs/3.0.0/deployment-guide/scaling/"><link data-rh="true" rel="alternate" href="https://uncefact.github.io/project-storage-service/docs/3.0.0/deployment-guide/scaling/" hreflang="en"><link data-rh="true" rel="alternate" href="https://uncefact.github.io/project-storage-service/docs/3.0.0/deployment-guide/scaling/" hreflang="x-default"><link rel="stylesheet" href="/project-storage-service/assets/css/styles.3966b7f6.css">
<script src="/project-storage-service/assets/js/runtime~main.a61f1fd0.js" defer="defer"></script>
<script src="/project-storage-service/assets/js/main.0e518ceb.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/project-storage-service/"><div class="navbar__logo"><img src="/project-storage-service/img/logo.svg" alt="Storage Service Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/project-storage-service/img/logo.svg" alt="Storage Service Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Storage Service</b></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/project-storage-service/docs/3.0.0/deployment-guide/scaling/">3.0.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/project-storage-service/docs/deployment-guide/scaling/">3.1.0</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/project-storage-service/docs/3.0.0/deployment-guide/scaling/">3.0.0</a></li><li><a class="dropdown__link" href="/project-storage-service/docs/2.2.0/introduction/">2.2.0</a></li><li><a class="dropdown__link" href="/project-storage-service/docs/2.1.0/introduction/">2.1.0</a></li><li><a class="dropdown__link" href="/project-storage-service/docs/2.0.0/introduction/">2.0.0</a></li><li><a class="dropdown__link" href="/project-storage-service/docs/1.1.1/introduction/">1.1.1</a></li><li><a class="dropdown__link" href="/project-storage-service/docs/1.1.0/introduction/">1.1.0</a></li><li><a class="dropdown__link" href="/project-storage-service/docs/1.0.0/introduction/">1.0.0</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/project-storage-service/docs/understanding/introduction/">Overview</a><a class="navbar__item navbar__link" href="/project-storage-service/docs/developer-guide/api-reference/">Developer Guide</a><a class="navbar__item navbar__link" href="/project-storage-service/docs/deployment-guide/installation/">Deployment Guide</a><a href="https://uncefact.slack.com/archives/C03L1LDU1ED" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-slack-link"><svg class="icon icon-slack"><use xlink:href="#slack"></use></svg><span class="menu-item-name">Slack</span></a><a href="https://github.com/uncefact/project-storage-service" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-github-link"><svg class="icon"><use xlink:href="#github"></use></svg><span class="menu-item-name">Github</span></a><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/project-storage-service/docs/3.0.0/understanding/introduction/">Understanding the Service</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/project-storage-service/docs/3.0.0/developer-guide/api-reference/">Developer Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/project-storage-service/docs/3.0.0/deployment-guide/installation/">Deployment Guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/project-storage-service/docs/3.0.0/deployment-guide/installation/">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/project-storage-service/docs/3.0.0/deployment-guide/configuration/">Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/project-storage-service/docs/3.0.0/deployment-guide/storage-providers/">Storage Providers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/project-storage-service/docs/3.0.0/deployment-guide/scaling/">Scaling</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/project-storage-service/docs/3.0.0/migration-guides/migrating-to-3">Migration Guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/project-storage-service/docs/3.0.0/contributing/development-setup/">Contributing</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->Storage Service<!-- --> <b>3.0.0</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/project-storage-service/docs/deployment-guide/scaling/">latest version</a></b> (<!-- -->3.1.0<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/project-storage-service/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Deployment Guide</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Scaling</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 3.0.0</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Scaling</h1></header><p>This page covers operational guidance for running the Storage Service at scale.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="architecture-overview">Architecture Overview<a href="#architecture-overview" class="hash-link" aria-label="Direct link to Architecture Overview" title="Direct link to Architecture Overview">​</a></h2>
<p>The Storage Service is fully stateless. There is no shared state between instances -- no sessions, no in-memory caches, no local databases. Any instance can handle any request independently. This architecture makes horizontal scaling straightforward.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="horizontal-scaling">Horizontal Scaling<a href="#horizontal-scaling" class="hash-link" aria-label="Direct link to Horizontal Scaling" title="Direct link to Horizontal Scaling">​</a></h2>
<p>Run multiple instances of the service behind a load balancer to handle more concurrent requests. Because the service is stateless:</p>
<ul>
<li><strong>No sticky sessions are required.</strong> Requests can be routed to any available instance.</li>
<li><strong>Adding capacity is simple.</strong> Deploy additional instances and register them with your load balancer.</li>
<li><strong>Instances are interchangeable.</strong> Every instance is identical and can serve any request.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="vertical-scaling">Vertical Scaling<a href="#vertical-scaling" class="hash-link" aria-label="Direct link to Vertical Scaling" title="Direct link to Vertical Scaling">​</a></h2>
<p>For workloads that involve large file uploads or high throughput on a single instance, increase the CPU and memory allocation. This is particularly relevant when:</p>
<ul>
<li>Handling many concurrent large file uploads (each upload consumes memory during processing).</li>
<li>Running on infrastructure with constrained resources.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="storage-backend-selection">Storage Backend Selection<a href="#storage-backend-selection" class="hash-link" aria-label="Direct link to Storage Backend Selection" title="Direct link to Storage Backend Selection">​</a></h2>
<p>For production workloads, use a cloud storage provider such as AWS S3, Google Cloud Storage, or an S3-compatible service.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p><strong>Local filesystem storage does not scale beyond a single instance</strong> and is intended for development only. Data stored locally is not accessible to other instances and will be lost if the container is removed. Always use a cloud provider for production deployments.</p></div></div>
<p>See <a href="/project-storage-service/docs/3.0.0/deployment-guide/storage-providers/">Storage Providers</a> for setup instructions.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="temporary-disk-space">Temporary Disk Space<a href="#temporary-disk-space" class="hash-link" aria-label="Direct link to Temporary Disk Space" title="Direct link to Temporary Disk Space">​</a></h2>
<p>Binary file uploads are written to the operating system&#x27;s temp directory before being forwarded to the configured storage backend. When planning disk space, account for concurrent uploads:</p>
<ul>
<li>Each in-progress upload consumes temporary disk space up to the configured <code>MAX_UPLOAD_SIZE</code>.</li>
<li>For example, 10 concurrent 10 MB uploads require approximately 100 MB of temporary disk space.</li>
<li>Temp files are automatically cleaned up after each upload completes or fails.</li>
</ul>
<p>Ensure the temp directory on each instance has sufficient free space for your expected concurrency level.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="upload-size-tuning">Upload Size Tuning<a href="#upload-size-tuning" class="hash-link" aria-label="Direct link to Upload Size Tuning" title="Direct link to Upload Size Tuning">​</a></h2>
<p>The <code>MAX_UPLOAD_SIZE</code> environment variable controls the maximum size for both JSON request bodies and multipart file uploads. The default is 10 MB (<code>10485760</code> bytes).</p>
<ul>
<li><strong>Lower it</strong> if your files are typically smaller, to reject oversized payloads early and reduce resource consumption.</li>
<li><strong>Raise it</strong> if you need to accept larger uploads, but ensure your instances have sufficient memory and temp disk space to handle concurrent uploads at the increased limit.</li>
</ul>
<p>See <a href="/project-storage-service/docs/3.0.0/deployment-guide/configuration/">Configuration</a> for the full list of environment variables.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="rate-limiting">Rate Limiting<a href="#rate-limiting" class="hash-link" aria-label="Direct link to Rate Limiting" title="Direct link to Rate Limiting">​</a></h2>
<p>The service does not include built-in rate limiting, concurrency controls, or request queuing. If you need to protect the service from excessive traffic or abuse, implement rate limiting at the load balancer or API gateway layer in front of the service.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/uncefact/project-storage-service/tree/next/versioned_docs/version-3.0.0/deployment-guide/scaling/index.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/project-storage-service/docs/3.0.0/deployment-guide/storage-providers/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Storage Providers</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/project-storage-service/docs/3.0.0/migration-guides/migrating-to-3"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Migrating to 3.0.0</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#architecture-overview" class="table-of-contents__link toc-highlight">Architecture Overview</a></li><li><a href="#horizontal-scaling" class="table-of-contents__link toc-highlight">Horizontal Scaling</a></li><li><a href="#vertical-scaling" class="table-of-contents__link toc-highlight">Vertical Scaling</a></li><li><a href="#storage-backend-selection" class="table-of-contents__link toc-highlight">Storage Backend Selection</a></li><li><a href="#temporary-disk-space" class="table-of-contents__link toc-highlight">Temporary Disk Space</a></li><li><a href="#upload-size-tuning" class="table-of-contents__link toc-highlight">Upload Size Tuning</a></li><li><a href="#rate-limiting" class="table-of-contents__link toc-highlight">Rate Limiting</a></li></ul></div></div></div></div></main></div></div></div><svg width="0" height="0" class="hidden"><symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="github"><path d="M12.04 0a12.035 12.035 0 0 0-3.731 23.479h.28c.257.012.508-.074.703-.241.237-.207.37-.508.36-.822v-1.304a.491.491 0 0 0-.19-.331.501.501 0 0 0-.41-.1c-2.699.581-3.27-1.104-3.3-1.214a4.654 4.654 0 0 0-1.736-2.197l-.15-.11a.732.732 0 0 1 .381-.07c.508.076.94.41 1.143.883a3.009 3.009 0 0 0 4.012 1.163c.151-.067.262-.2.301-.361.04-.46.24-.893.562-1.224a.501.501 0 0 0 .15-.531.491.491 0 0 0-.421-.351c-2.377-.271-4.814-1.103-4.814-5.205a4.012 4.012 0 0 1 1.063-2.789.491.491 0 0 0 .09-.521 3.57 3.57 0 0 1 .01-2.417A5.586 5.586 0 0 1 8.871 6.89c.123.085.279.107.42.06.897-.239 1.821-.36 2.749-.36a10.34 10.34 0 0 1 2.758.36.461.461 0 0 0 .411-.06c.731-.593 1.6-.99 2.527-1.153a3.55 3.55 0 0 1 0 2.387.481.481 0 0 0 .1.521 4.012 4.012 0 0 1 1.054 2.758c0 4.112-2.437 4.935-4.824 5.196a.491.491 0 0 0-.421.35c-.06.189 0 .394.15.522.449.469.672 1.11.612 1.755v3.19c-.005.315.131.616.37.822.304.23.7.302 1.064.19A12.035 12.035 0 0 0 12.04 0Z"></path></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 33.057 33.057" id="search"><g fill="none" fill-rule="evenodd" stroke="currentColor" stroke-width="1.5"><path d="M21.723 7.934a9.75 9.721-45 0 1-.02 13.769 9.75 9.721-45 0 1-13.769.02 9.75 9.721-45 0 1 .021-13.768 9.75 9.721-45 0 1 13.768-.02z"></path><path d="M10.481 20.942V25" transform="rotate(-45 17.925 7.425)"></path></g></symbol><symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="slack"><g fill-rule="nonzero"><path d="M22.17 16.701h-7.34c-1.01 0-1.83-.815-1.83-1.82 0-1.005.82-1.82 1.83-1.82h7.34c1.01 0 1.83.815 1.83 1.82 0 1.005-.82 1.82-1.83 1.82ZM14.83 11.073c-1.01 0-1.83-.815-1.83-1.82V1.954c-.05-.68.286-1.332.871-1.687a1.839 1.839 0 0 1 1.908 0c.585.355.922 1.007.871 1.687v7.3a1.825 1.825 0 0 1-1.82 1.819ZM9.17 11.073H1.83c-1.01 0-1.83-.815-1.83-1.82 0-1.005.82-1.82 1.83-1.82h7.34c1.01 0 1.83.815 1.83 1.82 0 1.005-.82 1.82-1.83 1.82ZM9.17 24c-1.01 0-1.83-.815-1.83-1.82v-7.299c-.05-.68.286-1.332.871-1.687a1.839 1.839 0 0 1 1.908 0c.585.355.922 1.007.871 1.687v7.3A1.825 1.825 0 0 1 9.17 24ZM2.22 17.517A2.214 2.214 0 0 1 0 15.319a2.264 2.264 0 0 1 2.27-2.257h1.48c.405.005.73.333.73.735v1.472a2.254 2.254 0 0 1-2.26 2.248ZM10.27 4.59H8.78a2.254 2.254 0 0 1-2.26-2.248c-.003-.586.23-1.15.647-1.564A2.216 2.216 0 0 1 8.74.134 2.264 2.264 0 0 1 11 2.392v1.471c0 .401-.327.726-.73.726ZM15.26 24A2.264 2.264 0 0 1 13 21.743V20.27c0-.4.327-.726.73-.726h1.49a2.254 2.254 0 0 1 2.26 2.247c.003.587-.23 1.15-.647 1.564A2.216 2.216 0 0 1 15.26 24ZM21.73 11.073h-1.48a.738.738 0 0 1-.73-.736V8.865a2.254 2.254 0 0 1 2.26-2.247c1.222 0 2.214.982 2.22 2.198a2.264 2.264 0 0 1-2.27 2.257Z"></path></g></symbol></svg></div>
</body>
</html>